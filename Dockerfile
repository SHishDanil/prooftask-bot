# В корне репозитория создайте файл Dockerfile со следующим содержимым:

# 1. Берём официальный образ Python 3.12 (там уже есть imghdr и все stdlib)
FROM python:3.12-slim

# 2. Создаём рабочую папку
WORKDIR /app

# 3. Копируем только список зависимостей и ставим их.
#    Это ускоряет сборку: слои с pip install будут кешироваться,
#    пока не изменится requirements.txt
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# 4. Копируем весь остальной исходник
COPY . .

# 5. Если раньше вы добавляли imghdr.py-заглушку — удалите его из репозитория!
#    Теперь он не нужен: в образе уже есть стандартный imghdr.

# 6. Запускаем ваш бот
CMD ["python", "bot.py"]
